#!/usr/bin/env node

/* eslint-disable no-console */
const { run } = require('react-snap')
const argv = require('minimist')(process.argv.slice(2), { boolean: ['no-sandbox'], alias: { ns: 'no-sandbox' } })

// tmp
if (argv.ns) {
  argv.puppeteerArgs = ['--no-sandbox', '--disable-setuid-sandbox']
}

delete argv._
delete argv.ns
delete argv['no-sandbox']

console.debug('argv', argv)

run(argv).catch(error => {
  console.error(error)
  process.exit(1)
})
